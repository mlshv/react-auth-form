(this["webpackJsonpreact-auth-form"]=this["webpackJsonpreact-auth-form"]||[]).push([[0],{15:function(e,r,t){e.exports={root:"Button_root__2bb-J composes_focusable__1AhT7",children:"Button_children__2TNlj",transparent:"Button_transparent__1mzLx",spinner:"Button_spinner__1euk3"}},16:function(e,r,t){e.exports={passwordInputWrap:"PasswordInput_passwordInputWrap__2oQpz",passwordInput:"PasswordInput_passwordInput__flbWz composes_textInput__1c1o6 composes_focusable__1AhT7",showPasswordButton:"PasswordInput_showPasswordButton__3dIi7",hidden:"PasswordInput_hidden__3D0Ty"}},31:function(e,r,t){e.exports={root:"Spinner_root__14r2h",spinner:"Spinner_spinner__1Neu5"}},32:function(e,r,t){e.exports={root:"SrOnly_root__KqQNl"}},33:function(e,r,t){e.exports={root:"EmailInput_root__1fFcK composes_textInput__1c1o6 composes_focusable__1AhT7"}},38:function(e,r,t){},44:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(28),c=t.n(o),s=(t(38),t(4)),i=t.n(s),u=t(20),l=t(12),d=t(3),p=t(13),j=t(24),f=t(25),b=t(26),h=t(27),m=function(e){Object(f.a)(t,e);var r=Object(b.a)(t);function t(){return Object(j.a)(this,t),r.apply(this,arguments)}return t}(Object(h.a)(Error)),v=function(e){Object(f.a)(t,e);var r=Object(b.a)(t);function t(){return Object(j.a)(this,t),r.apply(this,arguments)}return t}(Object(h.a)(Error)),O=t(9),w=t(8),x=t(11),_=t.n(x),g=t(31),k=t.n(g),E=t(1),P=function(e){var r=e.className;return Object(E.jsx)("div",{className:_()(k.a.root,r)})},y=t(15),N=t.n(y),I=["inProgress","children"],S=function(e){var r=e.inProgress,t=e.children,n=Object(w.a)(e,I);return Object(E.jsxs)("button",Object(d.a)(Object(d.a)({className:N.a.root},n),{},{children:[Object(E.jsx)("span",{className:_()(N.a.children,Object(O.a)({},N.a.transparent,r)),children:t}),r&&Object(E.jsx)(P,{className:N.a.spinner})]}))},B=function(){return Object(E.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(E.jsx)("path",{fill:"currentColor",d:"m23,12c0,0 -4.125,7 -11,7c-6.875,0 -11,-7 -11,-7c0,0 4.125,-7 11,-7c6.875,0 11,7 11,7zm-6,0c0,2.7614 -2.2386,5 -5,5c-2.76142,0 -5,-2.2386 -5,-5c0,-2.76142 2.23858,-5 5,-5c2.7614,0 5,2.23858 5,5zm-5,3c1.6569,0 3,-1.3431 3,-3c0,-1.6569 -1.3431,-3 -3,-3c-1.6569,0 -3,1.3431 -3,3c0,1.6569 1.3431,3 3,3z",clipRule:"evenodd",fillRule:"evenodd"})})},C=function(){return Object(E.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(E.jsx)("path",{fill:"currentColor",d:"m23,12c0,0 -4.125,7 -11,7c-6.875,0 -11,-7 -11,-7c0,0 4.125,-7 11,-7c6.875,0 11,7 11,7zm-6,0c0,2.7614 -2.2386,5 -5,5c-2.76142,0 -5,-2.2386 -5,-5c0,-2.76142 2.23858,-5 5,-5c2.7614,0 5,2.23858 5,5zm-5,3c1.6569,0 3,-1.3431 3,-3c0,-1.6569 -1.3431,-3 -3,-3c-1.6569,0 -3,1.3431 -3,3c0,1.6569 1.3431,3 3,3z",clipRule:"evenodd",fillRule:"evenodd"}),Object(E.jsx)("line",{stroke:"currentColor",y2:"5.224889",x2:"18.574192",y1:"18.606878",x1:"4.841554",strokeWidth:"2.5"})]})},R=t(16),A=t.n(R),T=t(32),L=t.n(T),W=["as"],z=function(e){var r=e.as,t=Object(w.a)(e,W),n=null!==r&&void 0!==r?r:"div";return Object(E.jsx)(n,Object(d.a)({"aria-live":"polite",className:L.a.root},t))},F=["error","innerRef"],D=function(e){var r=e.error,t=e.innerRef,a=Object(w.a)(e,F),o=Object(n.useState)(!1),c=Object(u.a)(o,2),s=c[0],i=c[1];return Object(E.jsxs)("div",{className:A.a.passwordInputWrap,children:[Object(E.jsx)(z,{as:"p",id:"password-text",children:s?"Password shown.":"Password hidden."}),Object(E.jsx)("input",Object(d.a)({className:A.a.passwordInput,ref:t,type:s?"text":"password",autoComplete:"current-password","aria-required":"true","aria-describedby":"password-alert","aria-invalid":Boolean(r)},a)),Object(E.jsx)("button",{className:_()(A.a.showPasswordButton,Object(O.a)({},A.a.hidden,!a.value)),type:"button",role:"switch",tabIndex:a.value?0:-1,"aria-checked":s,title:s?"Hide password":"Show password","aria-label":s?"Hide password":"Show password",onClick:function(e){e.preventDefault(),i((function(e){return!e}))},children:s?Object(E.jsx)(C,{}):Object(E.jsx)(B,{})})]})},q=t(7),J=t.n(q),K=t(33),M=t.n(K),H=["error","innerRef"],Q=function(e){var r=e.error,t=e.innerRef,n=Object(w.a)(e,H);return Object(E.jsx)("input",Object(d.a)({className:M.a.root,ref:t,autoComplete:"email","aria-invalid":Boolean(r)},n))},V=function(e){var r=e.initialValues,t=void 0===r?{email:"",password:""}:r,a=e.onSubmit,o=Object(n.useRef)(null),c=Object(n.useRef)(null),s=Object(n.useRef)(null);Object(n.useEffect)((function(){var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.focus()}),[]);var u=Object(n.useCallback)((function(){var e;null===(e=o.current)||void 0===e||e.classList.add(J.a.shake),setTimeout((function(){var e;null===(e=o.current)||void 0===e||e.classList.remove(J.a.shake)}),400)}),[]);return Object(E.jsx)(p.c,{initialValues:t,validateOnBlur:!1,validateOnChange:!1,validate:function(e){return e.email?-1===e.email.search(/@/)?{formError:"Please enter valid email"}:e.password?{}:{formError:"Please enter password"}:{formError:"Please enter email"}},onSubmit:function(){var e=Object(l.a)(i.a.mark((function e(r,t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,o=t.setErrors,e.prev=1,e.next=4,a(r);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),u(),e.t0 instanceof m?o({formError:e.t0.message}):e.t0 instanceof v?o({formError:"There was a network error, please try again"}):o({formError:"Something went wrong"});case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r,t){return e.apply(this,arguments)}}(),children:function(e){var r=e.isSubmitting,t=e.validateForm,n=e.handleSubmit;return Object(E.jsxs)(p.b,{ref:o,children:[Object(E.jsx)("h1",{children:"Sign in"}),Object(E.jsx)(p.a,{name:"email",children:function(e){var r=e.field;e.meta;return Object(E.jsx)("div",{className:J.a.fieldWrap,children:Object(E.jsxs)("label",{children:[Object(E.jsx)("span",{className:J.a.fieldLabel,children:"Email"}),Object(E.jsx)(Q,Object(d.a)({"aria-required":"true",innerRef:c,onKeyPress:function(e){var r;"Enter"===e.key&&(e.preventDefault(),null===s||void 0===s||null===(r=s.current)||void 0===r||r.focus())}},r))]})})}}),Object(E.jsx)(p.a,{name:"password",children:function(e){var r=e.field,t=e.meta;return Object(E.jsx)("div",{className:J.a.fieldWrap,children:Object(E.jsxs)("label",{children:[Object(E.jsx)("span",{className:J.a.fieldLabel,children:"Password"}),Object(E.jsx)(D,Object(d.a)({"aria-required":"true",innerRef:s,error:t.touched&&t.error},r))]})})}}),Object(E.jsx)(p.a,{name:"formError",children:function(e){var r=e.form,t=e.meta;return r.touched&&t.error?Object(E.jsx)("div",{role:"alert","aria-atomic":"true",id:"email-alert",className:J.a.validationErrorText,children:t.error}):Object(E.jsx)("div",{className:J.a.validationErrorPlaceholder})}}),Object(E.jsx)(S,{inProgress:r,type:"submit",onClick:function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r){e.next=5;break}return e.next=4,t().then((function(e){e.formError&&u()}));case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:"Continue"})]})}})};function G(){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(i.a.mark((function e(){var r,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,1e3)}));case 2:return r=[function(){},function(){throw new v},function(){throw new m("Incorrect login or password")},function(){throw new Error("Woops!")}],t=Math.floor(Math.random()*r.length),e.abrupt("return",r[t]());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(){var e=Object(n.useState)(),r=Object(u.a)(e,2),t=r[0],a=r[1],o=Object(n.useCallback)(function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:a(r.email);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]);return Object(E.jsx)("div",{className:"App",style:{width:300,margin:"0 auto"},children:t?Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{children:["Logged in as ",t]}),Object(E.jsx)("button",{onClick:function(){return a(void 0)},children:"Log out"})]}):Object(E.jsx)(V,{onSubmit:o})})};c.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(X,{})}),document.getElementById("root"))},7:function(e,r,t){e.exports={fieldWrap:"AuthForm_fieldWrap__2w2BA",fieldLabel:"AuthForm_fieldLabel__1pLfC",validationErrorText:"AuthForm_validationErrorText__3IDb5",validationErrorPlaceholder:"AuthForm_validationErrorPlaceholder__wD0IP",shake:"AuthForm_shake__18acA"}}},[[44,1,2]]]);
//# sourceMappingURL=main.28699e58.chunk.js.map