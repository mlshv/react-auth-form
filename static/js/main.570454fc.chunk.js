(this["webpackJsonpreact-auth-form"]=this["webpackJsonpreact-auth-form"]||[]).push([[0],{15:function(e,r,t){e.exports={root:"Button_root__2bb-J composes_focusable__1AhT7",children:"Button_children__2TNlj",transparent:"Button_transparent__1mzLx",spinner:"Button_spinner__1euk3"}},16:function(e,r,t){e.exports={passwordInputWrap:"PasswordInput_passwordInputWrap__2oQpz",passwordInput:"PasswordInput_passwordInput__flbWz composes_textInput__1c1o6 composes_focusable__1AhT7",showPasswordButton:"PasswordInput_showPasswordButton__3dIi7",hidden:"PasswordInput_hidden__3D0Ty"}},31:function(e,r,t){e.exports={root:"Spinner_root__14r2h",spinner:"Spinner_spinner__1Neu5"}},32:function(e,r,t){e.exports={root:"SrOnly_root__KqQNl"}},33:function(e,r,t){e.exports={root:"EmailInput_root__1fFcK composes_textInput__1c1o6 composes_focusable__1AhT7"}},38:function(e,r,t){},44:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(28),s=t.n(o),c=(t(38),t(8)),i=t.n(c),l=t(20),u=t(13),d=t(3),p=t(12),j=t(24),b=t(25),f=t(26),h=t(27),m=function(e){Object(b.a)(t,e);var r=Object(f.a)(t);function t(){return Object(j.a)(this,t),r.apply(this,arguments)}return t}(Object(h.a)(Error)),O=function(e){Object(b.a)(t,e);var r=Object(f.a)(t);function t(){return Object(j.a)(this,t),r.apply(this,arguments)}return t}(Object(h.a)(Error)),v=t(9),w=t(7),x=t(11),_=t.n(x),g=t(31),E=t.n(g),P=t(1),k=function(e){var r=e.className;return Object(P.jsx)("div",{className:_()(E.a.root,r)})},N=t(15),y=t.n(N),I=["inProgress","children"],S=function(e){var r=e.inProgress,t=e.children,n=Object(w.a)(e,I);return Object(P.jsxs)("button",Object(d.a)(Object(d.a)({className:y.a.root},n),{},{children:[Object(P.jsx)("span",{className:_()(y.a.children,Object(v.a)({},y.a.transparent,r)),children:t}),r&&Object(P.jsx)(k,{className:y.a.spinner})]}))},B=function(){return Object(P.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{fill:"currentColor",d:"m23,12c0,0 -4.125,7 -11,7c-6.875,0 -11,-7 -11,-7c0,0 4.125,-7 11,-7c6.875,0 11,7 11,7zm-6,0c0,2.7614 -2.2386,5 -5,5c-2.76142,0 -5,-2.2386 -5,-5c0,-2.76142 2.23858,-5 5,-5c2.7614,0 5,2.23858 5,5zm-5,3c1.6569,0 3,-1.3431 3,-3c0,-1.6569 -1.3431,-3 -3,-3c-1.6569,0 -3,1.3431 -3,3c0,1.6569 1.3431,3 3,3z",clipRule:"evenodd",fillRule:"evenodd"})})},R=function(){return Object(P.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("path",{fill:"currentColor",d:"m23,12c0,0 -4.125,7 -11,7c-6.875,0 -11,-7 -11,-7c0,0 4.125,-7 11,-7c6.875,0 11,7 11,7zm-6,0c0,2.7614 -2.2386,5 -5,5c-2.76142,0 -5,-2.2386 -5,-5c0,-2.76142 2.23858,-5 5,-5c2.7614,0 5,2.23858 5,5zm-5,3c1.6569,0 3,-1.3431 3,-3c0,-1.6569 -1.3431,-3 -3,-3c-1.6569,0 -3,1.3431 -3,3c0,1.6569 1.3431,3 3,3z",clipRule:"evenodd",fillRule:"evenodd"}),Object(P.jsx)("line",{stroke:"currentColor",y2:"5.224889",x2:"18.574192",y1:"18.606878",x1:"4.841554",strokeWidth:"2.5"})]})},A=t(16),C=t.n(A),T=t(32),L=t.n(T),W=["as"],z=function(e){var r=e.as,t=Object(w.a)(e,W),n=null!==r&&void 0!==r?r:"div";return Object(P.jsx)(n,Object(d.a)({"aria-live":"polite",className:L.a.root},t))},D=["error","innerRef"],F=function(e){var r=e.error,t=e.innerRef,a=Object(w.a)(e,D),o=Object(n.useState)(!1),s=Object(l.a)(o,2),c=s[0],i=s[1];return Object(P.jsxs)("div",{className:C.a.passwordInputWrap,children:[Object(P.jsx)(z,{as:"p",id:"password-text",children:c?"Password shown.":"Password hidden."}),Object(P.jsx)("input",Object(d.a)({className:C.a.passwordInput,ref:t,type:c?"text":"password",autoComplete:"current-password","aria-required":"true","aria-describedby":"password-alert","aria-invalid":Boolean(r)},a)),Object(P.jsx)("button",{className:_()(C.a.showPasswordButton,Object(v.a)({},C.a.hidden,!a.value)),type:"button",role:"switch",tabIndex:a.value?0:-1,"aria-checked":c,title:c?"Hide password":"Show password","aria-label":c?"Hide password":"Show password",onClick:function(e){e.preventDefault(),i((function(e){return!e}))},children:c?Object(P.jsx)(R,{}):Object(P.jsx)(B,{})})]})},q=t(6),J=t.n(q),K=t(33),M=t.n(K),H=["error","innerRef"],Q=function(e){var r=e.error,t=e.innerRef,n=Object(w.a)(e,H);return Object(P.jsx)("input",Object(d.a)({className:M.a.root,ref:t,autoComplete:"email","aria-invalid":Boolean(r)},n))},V=function(e){var r=e.initialValues,t=void 0===r?{email:"",password:""}:r,a=e.onSubmit,o=Object(n.useRef)(null),s=Object(n.useRef)(null),c=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.focus()}),[]),Object(P.jsx)(p.c,{initialValues:t,validateOnBlur:!1,validate:function(e){return e.email?-1===e.email.search(/@/)?{formError:"Please enter valid email"}:e.password?{}:{formError:"Please enter password"}:{formError:"Please enter email"}},onSubmit:function(){var e=Object(u.a)(i.a.mark((function e(r,t){var n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,s=t.setErrors,e.prev=1,e.next=4,a(r);case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),null===(c=o.current)||void 0===c||c.classList.add(J.a.shake),setTimeout((function(){var e;null===(e=o.current)||void 0===e||e.classList.remove(J.a.shake)}),400),e.t0 instanceof m?s({formError:e.t0.message}):e.t0 instanceof O?s({formError:"There was a network error, please try again"}):s({formError:"Something went wrong"});case 12:n(!1);case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r,t){return e.apply(this,arguments)}}(),children:function(e){var r=e.isSubmitting,t=e.handleSubmit;return Object(P.jsxs)(p.b,{ref:o,children:[Object(P.jsx)("h1",{children:"Sign in"}),Object(P.jsx)(p.a,{name:"email",children:function(e){var r=e.field;e.meta;return Object(P.jsx)("div",{className:J.a.fieldWrap,children:Object(P.jsxs)("label",{children:[Object(P.jsx)("span",{className:J.a.fieldLabel,children:"Email"}),Object(P.jsx)(Q,Object(d.a)({"aria-required":"true",innerRef:s,onKeyPress:function(e){var r;"Enter"===e.key&&(e.preventDefault(),null===c||void 0===c||null===(r=c.current)||void 0===r||r.focus())}},r))]})})}}),Object(P.jsx)(p.a,{name:"password",children:function(e){var r=e.field,t=e.meta;return Object(P.jsx)("div",{className:J.a.fieldWrap,children:Object(P.jsxs)("label",{children:[Object(P.jsx)("span",{className:J.a.fieldLabel,children:"Password"}),Object(P.jsx)(F,Object(d.a)({"aria-required":"true",innerRef:c,error:t.touched&&t.error},r))]})})}}),Object(P.jsx)(p.a,{name:"formError",children:function(e){var r=e.form,t=e.meta;return r.touched&&t.error?Object(P.jsx)("div",{role:"alert","aria-atomic":"true",id:"email-alert",className:J.a.validationErrorText,children:t.error}):Object(P.jsx)("div",{className:J.a.validationErrorPlaceholder})}}),Object(P.jsx)(S,{inProgress:r,type:"submit",onClick:function(e){e.preventDefault(),r||t()},children:"Continue"})]})}})};function G(){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(i.a.mark((function e(){var r,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,1e3)}));case 2:return r=[function(){},function(){throw new O},function(){throw new m("Incorrect login or password")},function(){throw new Error("Woops!")}],t=Math.floor(Math.random()*r.length),e.abrupt("return",r[t]());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(){var e=Object(n.useState)(),r=Object(l.a)(e,2),t=r[0],a=r[1],o=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:a(r.email);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]);return Object(P.jsx)("div",{className:"App",style:{width:300,margin:"0 auto"},children:t?Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{children:["Logged in as ",t]}),Object(P.jsx)("button",{onClick:function(){return a(void 0)},children:"Log out"})]}):Object(P.jsx)(V,{onSubmit:o})})};s.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(X,{})}),document.getElementById("root"))},6:function(e,r,t){e.exports={fieldWrap:"AuthForm_fieldWrap__2w2BA",fieldLabel:"AuthForm_fieldLabel__1pLfC",validationErrorText:"AuthForm_validationErrorText__3IDb5",validationErrorPlaceholder:"AuthForm_validationErrorPlaceholder__wD0IP",shake:"AuthForm_shake__18acA"}}},[[44,1,2]]]);
//# sourceMappingURL=main.570454fc.chunk.js.map